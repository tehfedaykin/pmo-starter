<div class="order-history" *ngIf="orderState$ | async as orderState">
  <div *ngIf="!orderState.ordersLoaded" class="loading"></div>
  <ng-container *ngIf="orderState.orders.length">
    <div class="order header">
      <address>Name / Address / Phone</address>
      <div class="items">Order</div>
      <div class="total">Total</div>
      <div class="actions">Action</div>
    </div>

    <pmo-list
      [orders]="filter(orderState.orders, 'new')"
      listTitle="New Orders"
      status="new"
      statusTitle="New Order!"
      action="preparing"
      actionTitle="Preparing"
      emptyMessage="No new orders">
      </pmo-list>

    <pmo-list
      [orders]="filter(orderState.orders, 'preparing')"
      listTitle="Preparing"
      status="preparing"
      statusTitle="Preparing"
      action="delivery"
      actionTitle="Out for delivery"
      emptyMessage="No orders preparing">
      </pmo-list>

    <pmo-list
      [orders]="filter(orderState.orders, 'delivery')"
      listTitle="Out for delivery"
      status="delivery"
      statusTitle="Out for delivery"
      action="delivered"
      actionTitle="Delivered"
      emptyMessage="No orders are being delivered">
      </pmo-list>

    <pmo-list
      [orders]="filter(orderState.orders, 'delivered')"
      listTitle="Delivery"
      status="delivered"
      statusTitle="Delivered"
      emptyMessage="No delivered orders">
      </pmo-list>
  </ng-container>


</div>
